<div class="contact-container">
  <!-- HEADER - Siempre visible -->
  <div class="contact-header">
    <a
      class="contact-email link-hover-effect"
      [class.active]="showEmailForm"
      (click)="openEmailModal()"
      >INFO&#64;NANDOVIVAS.COM</a
    >
    <a
      class="link-hover-effect"
      href="https://www.instagram.com/nando_vivas/?hl=es"
      target="_blank"
      >INSTAGRAM</a
    >
    <a
      class="link-hover-effect"
      href="https://www.behance.net/nandovivas"
      target="_blank"
      >BEHANCE</a
    >
    <a
      class="link-hover-effect"
      [class.active]="showCookiesPolicy"
      (click)="openCookiesPolicy()"
      >COOKIES POLICY</a
    >
  </div>

  <!-- CONTENIDO CONDICIONAL -->
  @if (!showEmailForm && !showCookiesPolicy) {
  <!-- BIO - Solo cuando no hay formulario -->
  <div class="contact-bio">
    <p>
      I'm a graphic designer and illustrator based in Barcelona, working across
      communication, packaging, branding, art direction, and editorial design. I
      also teach graphic arts and design. In every project, I enjoy exploring
      multiple paths and possibilities without tying myself to a single style or
      trend—the client's needs and goals always shape the final outcome.
    </p>
    <p>
      If you have something in mind, feel free to drop me a line. Let's turn
      your ideas into visual realities—together.
    </p>
  </div>

  <!-- SELECTED CLIENTS - Solo cuando no hay formulario -->
  <div class="contact-clients">
    <p><b>Selected clients:</b></p>
    <p>
      Estrella Damm, Nestlé, Hospital Sant Joan de Deu, Cities Alliance, AECOC,
      BCNMés, Ayuntament de Barcelona, Fundació "La Caixa", Editorial Planeta,
      Swiss Airlines, Hotel Lé Meridien, Univdersity of California UCLA,
      Editorial Salvat
    </p>
  </div>
  } @if (showEmailForm) {
  <!-- FORMULARIO HTML PURO - Ocupa las 2 columnas -->
  <div class="email-form-container">
    <form
      [formGroup]="emailForm"
      (ngSubmit)="sendEmail()"
      class="contact-email-form"
    >
      <div class="form-field">
        <label for="fromEmail">Your mail</label>
        <input
          id="fromEmail"
          type="email"
          formControlName="fromEmail"
          [placeholder]="
            fromEmail?.invalid && fromEmail?.touched
              ? 'Must be a valid email'
              : ''
          "
          [value]="
            fromEmail?.invalid && fromEmail?.touched ? '' : fromEmail?.value
          "
          [class.error]="fromEmail?.invalid && fromEmail?.touched"
        />
      </div>

      <div class="form-field">
        <label for="subject">Subject</label>
        <input
          id="subject"
          type="text"
          formControlName="subject"
          [placeholder]="
            subject?.invalid && subject?.touched ? 'Subject required' : ''
          "
          [class.error]="subject?.invalid && subject?.touched"
        />
      </div>

      <div class="form-field">
        <label for="message">Message</label>
        <textarea
          id="message"
          formControlName="message"
          rows="4"
          [placeholder]="
            message?.invalid && message?.touched ? 'Drop some line' : ''
          "
          [class.error]="message?.invalid && message?.touched"
        ></textarea>
      </div>

      <div class="form-buttons">
        <button type="button" (click)="cancel()" class="btn-cancel">
          Cancel
        </button>
        <button type="submit" [disabled]="emailForm.invalid" class="btn-send">
          Send
        </button>
      </div>
    </form>
  </div>
  } @if (showCookiesPolicy) {
  <!-- COOKIES POLICY - Ocupa las 2 columnas cuando se muestra -->
  <div class="cookies-policy-container">
    <!-- COLUMNA 1 - Información general -->
    <div class="cookies-policy-column-1">
      <p class="cookies-subtitle">
        This website uses cookies to ensure you get the best experience on our
        website.
      </p>

      <p class="cookies-subtitle"><strong>What are cookies?</strong></p>
      <p>
        Cookies are small text files that are placed on your computer by
        websites that you visit. They are widely used to make websites work more
        efficiently and provide information to site owners.
      </p>

      <p class="cookies-subtitle"><strong>Essential Cookies</strong></p>
      <p>These cookies are necessary for the website to function properly:</p>
      <p><strong>Session cookies:</strong> Maintain your browsing session</p>
      <p>
        <strong>Security cookies:</strong> Protect against malicious attacks
      </p>
    </div>

    <!-- COLUMNA 2 - Control y más información -->
    <div class="cookies-policy-column-2">
      <p class="cookies-subtitle"><strong>How to control cookies</strong></p>
      <p>
        You can control and/or delete cookies as you wish. You can delete all
        cookies that are already on your computer and you can set most browsers
        to prevent them from being placed.
      </p>

      <p class="cookies-subtitle"><strong>Settings</strong></p>
      <p>
        Most web browsers allow some control of cookies through browser
        settings. To find out more about cookies, including how to see what
        cookies have been set, visit:
      </p>
      <p><strong>Chrome:</strong> Settings > Privacy and security > Cookies</p>
      <p><strong>Firefox:</strong> Options > Privacy & Security</p>
      <p><strong>Safari:</strong> Preferences > Privacy</p>
      <p><strong>Edge:</strong> Settings > Cookies and site permissions</p>
    </div>
  </div>
  }

  <!-- GIF CONTAINER - Siempre visible -->
  <div class="gif-container">
    <img src="assets/contact-smoking-gif.gif" alt="Contact" />
    <div class="clients-footer">
      <p>© 2024 Nando Vivas</p>
    </div>
  </div>
</div>
